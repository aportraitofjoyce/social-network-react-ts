(this["webpackJsonpsocial-network-react-ts"]=this["webpackJsonpsocial-network-react-ts"]||[]).push([[0],{103:function(e,t,r){e.exports={fromWrapper:"Login_fromWrapper__27jQY"}},14:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(102),n=r.n(a).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"6f228861-1f0c-43fb-a420-fcf28121de49"}})},236:function(e,t,r){"use strict";r.r(t);var a,n=r(0),c=r.n(n),s=r(46),i=r.n(s),o=r(18),u=(r(69),r(32)),l=r(101),d=r(7),b=r(2),O=r(52),j={userProfile:null,userStatus:"",dataForMyPosts:[{src:"https://sun9-5.userapi.com/impf/c836635/v836635330/314ed/9md97EBkSPg.jpg?size=600x600&quality=96&sign=302798ae13b76abf476b1e71420b702f&type=album",alt:"My profile",text:"My first post",likes:10},{src:"https://sun9-5.userapi.com/impf/c836635/v836635330/314ed/9md97EBkSPg.jpg?size=600x600&quality=96&sign=302798ae13b76abf476b1e71420b702f&type=album",alt:"My profile",text:"My second post",likes:5},{src:"https://sun9-5.userapi.com/impf/c836635/v836635330/314ed/9md97EBkSPg.jpg?size=600x600&quality=96&sign=302798ae13b76abf476b1e71420b702f&type=album",alt:"My profile",text:"My third post",likes:43},{src:"https://sun9-5.userapi.com/impf/c836635/v836635330/314ed/9md97EBkSPg.jpg?size=600x600&quality=96&sign=302798ae13b76abf476b1e71420b702f&type=album",alt:"My profile",text:"My fourth post",likes:0}],newPost:{src:"https://sun9-5.userapi.com/impf/c836635/v836635330/314ed/9md97EBkSPg.jpg?size=600x600&quality=96&sign=302798ae13b76abf476b1e71420b702f&type=album",alt:"My profile",text:"",likes:0}},f=r(237),p=r(78),m={dataForFriends:[{id:Object(f.a)(),name:"Me"},{id:Object(f.a)(),name:"Maxim"},{id:Object(f.a)(),name:"Andrei"},{id:Object(f.a)(),name:"Yura"}],dataForMessages:[{id:Object(f.a)(),from:"Me",message:"\u041f\u0440\u0438\u0432\u0435\u0442, \u043a\u0430\u043a \u0434\u0435\u043b\u0430?"},{id:Object(f.a)(),from:"Andrei",message:"\u041a\u0443-\u043a\u0443, \u043e\u0442\u043b\u0438\u0447\u043d\u043e. \u0410 \u0443 \u0442\u0435\u0431\u044f?"},{id:Object(f.a)(),from:"Me",message:"\u041f\u043b\u043e\u0445\u043e, \u043c\u043e\u043d\u0438\u0442\u043e\u0440 \u0438\u0437 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0446\u0435\u043d\u0442\u0440\u0435 \u043d\u0435 \u043e\u0442\u0434\u0430\u044e\u0442!"},{id:Object(f.a)(),from:"Me",message:"\u041f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0438\u043c \u0443\u0436\u0435 \u0434\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c \u044f"},{id:Object(f.a)(),from:"Andrei",message:"\u041a\u043e\u0437\u043b\u044b"},{id:Object(f.a)(),from:"Me",message:"\u0410\u0433\u0430!"}],newMessage:{id:Object(f.a)(),from:"Me",message:""}},h=r(8),x={dataForSidebar:[{name:"Profile",link:h.a.PROFILE},{name:"Dialogs",link:h.a.DIALOGS},{name:"Users",link:h.a.USERS}]},S=r(30),_={usersData:[],pageSize:25,totalUsersCount:0,currentPage:1,isLoading:!1,followLoader:[]},E=r(4),v=r.n(E),g=r(9),y=r(14),T=function(){return y.a.get("auth/me")},L=function(e,t,r){return y.a.post("auth/login",{email:e,password:t,rememberMe:r})},w=function(){return y.a.delete("auth/login")};!function(e){e.SET_USER_DATA="SET_USER_DATA",e.LOGOUT="LOGOUT"}(a||(a={}));var A,R=function(e,t,r){return{type:a.SET_USER_DATA,payload:{id:e,login:t,email:r}}},k=function(){return function(){var e=Object(g.a)(v.a.mark((function e(t){var r,a,n,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return r=e.sent,a=r.data.data,n=a.id,c=a.login,s=a.email,0===r.data.resultCode&&t(R(n,c,s)),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){return function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:t({type:a.LOGOUT}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},I={id:null,login:null,email:null,isAuth:!1};!function(e){e.SUCCESS_INITIALIZATION="SUCCESS_INITIALIZATION"}(A||(A={}));var N=function(e){return{type:A.SUCCESS_INITIALIZATION,payload:{status:e}}},F={initialized:!1},M=Object(u.b)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.a.ADD_POST:return Object(b.a)(Object(b.a)({},e),{},{dataForMyPosts:[Object(b.a)(Object(b.a)({},e.newPost),{},{text:t.payload.text})].concat(Object(d.a)(e.dataForMyPosts))});case O.a.SET_USER_PROFILE:return Object(b.a)(Object(b.a)({},e),{},{userProfile:t.payload.userProfile});case O.a.SET_USER_STATUS:return Object(b.a)(Object(b.a)({},e),{},{userStatus:t.payload.userStatus});default:return e}},dialogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a.SEND_MESSAGE:return Object(b.a)(Object(b.a)({},e),{},{dataForMessages:[].concat(Object(d.a)(e.dataForMessages),[Object(b.a)(Object(b.a)({},e.newMessage),{},{message:t.payload.text})])});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return e},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.a.FOLLOW:return Object(b.a)(Object(b.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.payload.id?Object(b.a)(Object(b.a)({},e),{},{followed:!e.followed}):e}))});case S.a.SET_USERS:return Object(b.a)(Object(b.a)({},e),{},{usersData:Object(d.a)(t.payload.users)});case S.a.SET_CURRENT_PAGE:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.payload.page});case S.a.SET_TOTAL_USERS_COUNT:return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.payload.total});case S.a.TOGGLE_LOADER:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload.status});case S.a.TOGGLE_FOLLOW_LOADER:return Object(b.a)(Object(b.a)({},e),{},{followLoader:t.payload.status?[].concat(Object(d.a)(e.followLoader),[t.payload.id]):e.followLoader.filter((function(e){return e!==t.payload.id}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_USER_DATA:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isAuth:!0});case a.LOGOUT:return Object(b.a)(Object(b.a)({},e),{},{isAuth:!1});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.SUCCESS_INITIALIZATION:return Object(b.a)(Object(b.a)({},e),{},{initialized:t.payload.status});default:return e}}}),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c,C=Object(u.d)(M,P(Object(u.a)(l.a))),D=r(5),G=r(103),W=r.n(G),z=r(27),q=r(48),B=r(20),H=r(45),Z=r(28),Y=r.n(Z),X=r(1),J=c.a.memo((function(e){var t=e.label,r=Object(H.a)(e,["label"]),a=Object(z.c)(r),n=Object(B.a)(a,2),c=n[0],s=n[1];return Object(X.jsxs)("div",{className:Y.a.formField,children:[Object(X.jsx)("label",{htmlFor:r.id||r.name,children:t}),Object(X.jsx)("input",Object(b.a)(Object(b.a)(Object(b.a)({},c),r),{},{className:s.error?Y.a.errorBorder:""})),s.touched&&s.error&&Object(X.jsx)("div",{className:Y.a.errorMessage,children:s.error})]})})),K=c.a.memo((function(e){var t=e.children,r=Object(H.a)(e,["children"]),a=Object(z.c)(Object(b.a)(Object(b.a)({},r),{},{type:"checkbox"})),n=Object(B.a)(a,2),c=n[0],s=n[1];return Object(X.jsxs)("div",{className:Y.a.formFieldCheckbox,children:[Object(X.jsxs)("label",{children:[Object(X.jsx)("input",Object(b.a)(Object(b.a)({type:"checkbox"},c),r)),t]}),s.touched&&s.error&&Object(X.jsx)("div",{className:Y.a.errorMessage,children:s.error})]})})),V=c.a.memo((function(e){var t=e.onSubmit;return Object(X.jsx)(z.b,{initialValues:{email:"",password:"",rememberMe:!1},validationSchema:q.a({email:q.b().email("Invalid email address").required("Required"),password:q.b().max(20,"Must be 20 characters or less").required("Required")}),onSubmit:function(){var e=Object(g.a)(v.a.mark((function e(r,a){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,a.resetForm,c=a.setStatus,e.next=3,n(!0);case 3:return e.next=5,t(r.email,r.password,r.rememberMe,c);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,r=e.status;return Object(X.jsxs)(z.a,{className:"formikFormContainer",children:[Object(X.jsx)(J,{label:"Email",name:"email",type:"email",placeholder:"Type your email..."}),Object(X.jsx)(J,{label:"Password",name:"password",type:"password",placeholder:"Type your password..."}),Object(X.jsx)(K,{name:"rememberMe",children:"Remember Me"}),Object(X.jsx)("span",{style:{fontSize:24,fontWeight:"bold"},children:r}),Object(X.jsx)("button",{type:"submit",disabled:t,children:"Submit"})]})}})})),Q=c.a.memo((function(e){var t=e.login,r=e.logout;return Object(X.jsxs)("div",{className:W.a.fromWrapper,children:[Object(X.jsx)("h1",{children:"Login page"}),Object(X.jsx)(V,{onSubmit:t}),Object(X.jsx)("button",{onClick:r,children:"Logout"})]})})),$=r(12),ee=c.a.memo((function(){var e=Object($.b)(),t=Object($.c)((function(e){return e.auth})).isAuth,r=Object(n.useCallback)((function(t,r,a,n){e(function(e,t,r,a){return function(){var n=Object(g.a)(v.a.mark((function n(c){var s;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L(e,t,r);case 2:if(0!==(s=n.sent).data.resultCode){n.next=6;break}return n.next=6,c(k());case 6:0!==s.data.resultCode&&a(s.data.messages);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,r,a,n))}),[e]),a=Object(n.useCallback)((function(){return e(U())}),[e]);return t?Object(X.jsx)(D.a,{to:h.a.PROFILE}):Object(X.jsx)(Q,{login:r,logout:a})})),te=r(53),re=r.n(te),ae=function(){return Object(X.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-share-2",children:[Object(X.jsx)("circle",{cx:"18",cy:"5",r:"3"}),Object(X.jsx)("circle",{cx:"6",cy:"12",r:"3"}),Object(X.jsx)("circle",{cx:"18",cy:"19",r:"3"}),Object(X.jsx)("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),Object(X.jsx)("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]})},ne=c.a.memo((function(e){var t=e.auth,r=e.logout;return Object(X.jsx)("div",{className:re.a.wrapper,children:Object(X.jsxs)("div",{className:re.a.container,children:[Object(X.jsxs)(o.b,{to:h.a.ROOT,className:re.a.logoWrapper,children:[Object(X.jsx)(ae,{}),Object(X.jsx)("span",{children:"Social Network"})]}),t.isAuth?Object(X.jsxs)("div",{children:[Object(X.jsx)("span",{children:t.login}),Object(X.jsx)("button",{onClick:r,children:"Logout"})]}):Object(X.jsx)(o.b,{to:h.a.LOGIN,children:"Login"})]})})})),ce=c.a.memo((function(){var e=Object($.c)((function(e){return e.auth})),t=Object($.b)(),r=Object(n.useCallback)((function(){return t(U())}),[t]);return Object(X.jsx)(ne,{auth:e,logout:r})})),se=r(38),ie=r.n(se),oe=c.a.memo((function(e){return Object(X.jsx)(o.c,{to:e.link,activeClassName:ie.a.active,children:e.name})})),ue=c.a.memo((function(e){var t=e.dataForSidebar.map((function(e){return Object(X.jsx)(oe,{name:e.name,link:e.link},Object(f.a)())}));return Object(X.jsx)("aside",{className:ie.a.wrapper,children:Object(X.jsx)("nav",{className:ie.a.container,children:t})})})),le=c.a.memo((function(){var e=Object($.c)((function(e){return e.sidebar})).dataForSidebar;return Object(X.jsx)(ue,{dataForSidebar:e})})),de=r(64),be=Object(n.lazy)((function(){return r.e(3).then(r.bind(null,247))})),Oe=Object(n.lazy)((function(){return r.e(4).then(r.bind(null,248))})),je=Object(n.lazy)((function(){return r.e(5).then(r.bind(null,249))})),fe=c.a.memo((function(){var e=Object($.b)(),t=Object($.c)((function(e){return e.app.initialized}));return Object(n.useEffect)((function(){e(function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(!1)),e.next=3,t(k());case 3:t(N(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),t?Object(X.jsxs)("div",{className:"App",children:[Object(X.jsx)(ce,{}),Object(X.jsxs)("div",{className:"ContentWrapper",children:[Object(X.jsx)(le,{}),Object(X.jsx)(n.Suspense,{fallback:Object(X.jsx)(de.a,{}),children:Object(X.jsxs)(D.d,{children:[Object(X.jsx)(D.b,{path:h.a.ROOT,exact:!0,children:Object(X.jsx)(D.a,{to:h.a.PROFILE})}),Object(X.jsx)(D.b,{path:h.a.PROFILE_WITH_ID,children:Object(X.jsx)(be,{})}),Object(X.jsx)(D.b,{path:h.a.DIALOGS,children:Object(X.jsx)(Oe,{})}),Object(X.jsx)(D.b,{path:h.a.USERS,children:Object(X.jsx)(je,{})}),Object(X.jsx)(D.b,{path:h.a.LOGIN,children:Object(X.jsx)(ee,{})})]})})]})]}):Object(X.jsx)(de.a,{})}));i.a.render(Object(X.jsx)(c.a.StrictMode,{children:Object(X.jsx)(o.a,{children:Object(X.jsx)($.a,{store:C,children:Object(X.jsx)(fe,{})})})}),document.getElementById("root")),window.store=C},28:function(e,t,r){e.exports={formField:"Form_formField__1sCZI",formFieldCheckbox:"Form_formFieldCheckbox__3kjMq",errorMessage:"Form_errorMessage__1Y2D8",errorBorder:"Form_errorBorder__6-Uxv"}},30:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return h}));var a,n=r(4),c=r.n(n),s=r(9),i=r(14),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return i.a.get("users?count=".concat(t,"&page=").concat(e)).then((function(e){return e.data}))},u=function(e){return i.a.post("follow/".concat(e)).then((function(e){return 0===e.data.responseCode?e.data:null}))},l=function(e){return i.a.delete("follow/".concat(e)).then((function(e){return 0===e.data.responseCode?e.data:null}))};!function(e){e.FOLLOW="FOLLOW",e.SET_USERS="SET_USERS",e.SET_CURRENT_PAGE="SET_CURRENT_PAGE",e.SET_TOTAL_USERS_COUNT="SET_TOTAL_USERS_COUNT",e.TOGGLE_LOADER="TOGGLE_LOADER",e.TOGGLE_FOLLOW_LOADER="TOGGLE_FOLLOW_LOADER"}(a||(a={}));var d=function(e){return{type:a.FOLLOW,payload:{id:e}}},b=function(e){return{type:a.SET_USERS,payload:{users:e}}},O=function(e){return{type:a.SET_CURRENT_PAGE,payload:{page:e}}},j=function(e){return{type:a.TOGGLE_LOADER,payload:{status:e}}},f=function(e,t){return{type:a.TOGGLE_FOLLOW_LOADER,payload:{status:e,id:t}}},p=function(e,t){return function(){var r=Object(s.a)(c.a.mark((function r(n){var s;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(j(!0)),r.next=4,o(e,t);case 4:s=r.sent,n(j(!1)),n(b(s.items)),n((c=s.totalCount,{type:a.SET_TOTAL_USERS_COUNT,payload:{total:c}})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),alert(r.t0);case 13:case"end":return r.stop()}var c}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},m=function(e,t){return function(){var r=Object(s.a)(c.a.mark((function r(a){var n;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(O(e)),a(j(!0)),r.next=4,o(e,t);case 4:n=r.sent,a(j(!1)),a(b(n.items));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},h=function(e,t){return function(){var r=Object(s.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a(f(!0,e)),t){r.next=6;break}return r.next=4,u(e);case 4:a(d(e)),a(f(!1,e));case 6:if(!t){r.next=11;break}return r.next=9,l(e);case 9:a(d(e)),a(f(!1,e));case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},38:function(e,t,r){e.exports={wrapper:"Sidebar_wrapper__38jnK",container:"Sidebar_container__1dNie",active:"Sidebar_active__1ixxA"}},52:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return O})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return f}));var a,n=r(4),c=r.n(n),s=r(9),i=r(14),o=function(e){return i.a.get("profile/".concat(e))},u=function(e){return i.a.get("profile/status/".concat(e))},l=function(e){return i.a.put("profile/status",{status:e})};!function(e){e.ADD_POST="ADD_POST",e.SET_USER_PROFILE="SET_USER_PROFILE",e.SET_USER_STATUS="SET_USER_STATUS"}(a||(a={}));var d=function(e){return{type:a.ADD_POST,payload:{text:e}}},b=function(e){return{type:a.SET_USER_STATUS,payload:{userStatus:e}}},O=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:n=t.sent,r((c=n.data,{type:a.SET_USER_PROFILE,payload:{userProfile:c}}));case 4:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e);case 2:a=t.sent,r(b(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:0===t.sent.data.resultCode&&r(b(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},53:function(e,t,r){e.exports={wrapper:"Header_wrapper__3jZPv",container:"Header_container__2LYHX",miniProfileImg:"Header_miniProfileImg__1x289",logoWrapper:"Header_logoWrapper__nqon6"}},64:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(0),n=r.n(a),c=r(68),s=r.n(c),i=r(1),o=n.a.memo((function(){return Object(i.jsx)("div",{className:s.a.loadingWrapper,children:Object(i.jsxs)("div",{className:s.a.loading,children:[Object(i.jsx)("div",{}),Object(i.jsx)("div",{})]})})}))},68:function(e,t,r){e.exports={loadingWrapper:"Loader_loadingWrapper__33q2W",loading:"Loader_loading__2Z_4D"}},69:function(e,t,r){},78:function(e,t,r){"use strict";var a;r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),function(e){e.SEND_MESSAGE="SEND_MESSAGE"}(a||(a={}));var n=function(e){return{type:a.SEND_MESSAGE,payload:{text:e}}}},8:function(e,t,r){"use strict";var a;r.d(t,"a",(function(){return a})),function(e){e.ROOT="/",e.PROFILE="/profile",e.PROFILE_WITH_ID="/profile/:userId?",e.DIALOGS="/dialogs",e.USERS="/users",e.LOGIN="/login"}(a||(a={}))}},[[236,1,2]]]);
//# sourceMappingURL=main.9b125224.chunk.js.map