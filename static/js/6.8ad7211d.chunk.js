(this["webpackJsonpsocial-network-react-ts"]=this["webpackJsonpsocial-network-react-ts"]||[]).push([[6],{402:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var i=r(12),a=r(14),n=r(0),o=r(66),c=r(73),l=r.n(c),s=r(341),d=r(1),b=Object(n.memo)((function(e){var t=Object.assign({},e),r=Object(o.c)(t),n=Object(a.a)(r,2),c=n[0],b=n[1];return Object(d.jsxs)("div",{className:l.a.formField,children:[Object(d.jsx)(s.a,Object(i.a)(Object(i.a)(Object(i.a)({},c),t),{},{multiline:!0,maxRows:4,error:!!b.error})),b.touched&&b.error&&Object(d.jsx)("div",{className:l.a.errorMessage,children:b.error})]})}))},403:function(e,t,r){"use strict";r.d(t,"b",(function(){return n}));var i=r(134),a=r(189);function n(e){return Object(i.a)("MuiDivider",e)}var o=Object(a.a)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.a=o},419:function(e,t,r){"use strict";r.r(t);var i=r(0),a=r.n(i),n=r(398),o=r(387),c=r(5),l=r(2),s=(r(11),r(6)),d=r(188),b=r(111),u=r(3),h=r(8),j=r(403),v=r(1),m=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],f=Object(u.a)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,r=e.ownerState;return Object(l.a)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:Object(b.a)(t.palette.divider,.08)},"inset"===r.variant&&{marginLeft:72},"middle"===r.variant&&"horizontal"===r.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===r.variant&&"vertical"===r.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===r.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.theme,r=e.ownerState;return Object(l.a)({},r.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat(t.palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var t=e.theme,r=e.ownerState;return Object(l.a)({},r.children&&"vertical"===r.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat(t.palette.divider),transform:"translateX(0%)"}})}),(function(e){var t=e.ownerState;return Object(l.a)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),g=Object(u.a)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var r=e.ownerState;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,r=e.ownerState;return Object(l.a)({display:"inline-block",paddingLeft:t.spacing(1.2),paddingRight:t.spacing(1.2)},"vertical"===r.orientation&&{paddingTop:t.spacing(1.2),paddingBottom:t.spacing(1.2)})})),p=i.forwardRef((function(e,t){var r=Object(h.a)({props:e,name:"MuiDivider"}),i=r.absolute,a=void 0!==i&&i,n=r.children,o=r.className,b=r.component,u=void 0===b?n?"div":"hr":b,p=r.flexItem,O=void 0!==p&&p,x=r.light,w=void 0!==x&&x,S=r.orientation,A=void 0===S?"horizontal":S,I=r.role,R=void 0===I?"hr"!==u?"separator":void 0:I,L=r.textAlign,N=void 0===L?"center":L,C=r.variant,k=void 0===C?"fullWidth":C,V=Object(c.a)(r,m),W=Object(l.a)({},r,{absolute:a,component:u,flexItem:O,light:w,orientation:A,role:R,textAlign:N,variant:k}),D=function(e){var t=e.absolute,r=e.children,i=e.classes,a=e.flexItem,n=e.light,o=e.orientation,c=e.textAlign,l={root:["root",t&&"absolute",e.variant,n&&"light","vertical"===o&&"vertical",a&&"flexItem",r&&"withChildren",r&&"vertical"===o&&"withChildrenVertical","right"===c&&"vertical"!==o&&"textAlignRight","left"===c&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return Object(d.a)(l,j.b,i)}(W);return Object(v.jsx)(f,Object(l.a)({as:u,className:Object(s.a)(D.root,o),role:R,ref:t,ownerState:W},V,{children:n?Object(v.jsx)(g,{className:D.wrapper,ownerState:W,children:n}):null}))})),O=r(59),x=r(41),w=Object(i.memo)((function(e){var t=e.message;return Object(v.jsxs)(n.a,{children:[Object(v.jsx)(O.b,{to:"".concat(x.a.PROFILE,"/").concat(t.userId),children:Object(v.jsx)(o.a,{alt:t.userName,src:t.photo,sx:{width:64,height:64}})}),Object(v.jsx)(n.a,{children:Object(v.jsxs)("strong",{children:[t.userName,":"]})}),Object(v.jsx)(n.a,{children:t.message}),Object(v.jsx)(p,{})]})})),S=r(61),A=Object(i.memo)((function(){var e=Object(S.a)((function(e){return e.dialogs})).messages,t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[e]),Object(v.jsxs)(n.a,{sx:{maxHeight:512,overflowY:"auto"},children:[e.map((function(e){return Object(v.jsx)(w,{message:e},e.messageID)})),Object(v.jsx)("div",{ref:t})]})})),I=r(97),R=r(66),L=r(402),N=r(394),C=Object(i.memo)((function(e){var t=e.onSubmit;return Object(v.jsx)(R.b,{initialValues:{textarea:""},validationSchema:I.a({textarea:I.b().required("Required")}),onSubmit:function(e,r){var i=r.resetForm;r.setSubmitting;i(),t(e.textarea)},children:function(e){var t=e.isSubmitting;return Object(v.jsxs)(R.a,{children:[Object(v.jsx)(L.a,{name:"textarea",label:"Type your message"}),Object(v.jsx)(N.a,{type:"submit",variant:"contained",disabled:t,children:"Send"})]})}})})),k=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),V=Object(i.memo)((function(){return Object(v.jsx)(C,{onSubmit:function(e){return k.send(e)}})})),W=r(149),D=r(45),y=r(21),M=a.a.memo((function(){var e=Object(D.b)(),t=Object(S.a)((function(e){return e.auth.isAuth}));return Object(i.useEffect)((function(){k.addEventListener("message",(function(t){e(Object(W.b)(JSON.parse(t.data)))}))}),[e]),t?Object(v.jsxs)("main",{children:[Object(v.jsx)(A,{}),Object(v.jsx)(V,{})]}):Object(v.jsx)(y.a,{to:x.a.LOGIN})}));t.default=M}}]);
//# sourceMappingURL=6.8ad7211d.chunk.js.map