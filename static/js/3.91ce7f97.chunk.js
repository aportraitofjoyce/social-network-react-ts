(this["webpackJsonpsocial-network-react-ts"]=this["webpackJsonpsocial-network-react-ts"]||[]).push([[3],{242:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var a=r(2),n=r(20),s=r(48),c=r(0),o=r.n(c),i=r(26),u=r(28),l=r.n(u),b=r(1),j=o.a.memo((function(e){var t=e.label,r=Object(s.a)(e,["label"]),c=Object(i.c)(r),o=Object(n.a)(c,2),u=o[0],j=o[1];return Object(b.jsxs)("div",{className:l.a.formField,children:[Object(b.jsx)("label",{htmlFor:r.id||r.name,children:t}),Object(b.jsx)("textarea",Object(a.a)(Object(a.a)(Object(a.a)({},u),r),{},{className:j.error?l.a.errorBorder:""})),j.touched&&j.error&&Object(b.jsx)("div",{className:l.a.errorMessage,children:j.error})]})}))},243:function(e,t,r){e.exports={wrapper:"MyProfile_wrapper__cp4Sk",avatarContainer:"MyProfile_avatarContainer__3A5Yx",infoContainer:"MyProfile_infoContainer__UJLqM",descriptionContainer:"MyProfile_descriptionContainer__2BtPE",descriptionItem:"MyProfile_descriptionItem__2R3Vy"}},244:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var a=r(3),n=r.n(a),s=r(7),c=r(0),o=r.n(c),i=r(47),u=r(26),l=r(242),b=r(1),j=o.a.memo((function(e){var t=e.onSubmit;return Object(b.jsx)(u.b,{initialValues:{textarea:""},validationSchema:i.a({textarea:i.b().required("Required")}),onSubmit:function(){var e=Object(s.a)(n.a.mark((function e(r,a){var s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.setSubmitting,c=a.resetForm,e.next=3,s(!0);case 3:return e.next=5,c();case 5:return e.next=7,t(r.textarea);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return Object(b.jsxs)(u.a,{children:[Object(b.jsx)(l.a,{name:"textarea",placeholder:"Type your message..."}),Object(b.jsx)("button",{type:"submit",disabled:t,children:"Send"})]})}})}))},245:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(2),n=(r(0),r(5)),s=r(9),c=r(13),o=r(1),i=function(e){return function(t){return Object(c.c)((function(e){return e.auth.isAuth}))?Object(o.jsx)(e,Object(a.a)({},t)):Object(o.jsx)(n.a,{to:s.a.LOGIN})}}},246:function(e,t,r){e.exports={wrapper:"MyPosts_wrapper__15TKy",control_wrapper:"MyPosts_control_wrapper__2ZGHX"}},248:function(e,t,r){e.exports={wrapper:"Profile_wrapper__2B6mU"}},249:function(e,t,r){e.exports={wrapper:"Post_wrapper__3ZTzx",avatar_container:"Post_avatar_container__4fRhO",content_container:"Post_content_container__3MGXq"}},251:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(13),c=r(248),o=r.n(c),i=r(246),u=r.n(i),l=r(249),b=r.n(l),j=r(1),d=n.a.memo((function(e){return Object(j.jsxs)("div",{className:b.a.wrapper,children:[Object(j.jsx)("div",{className:b.a.avatar_container,children:Object(j.jsx)("img",{src:e.src,alt:e.alt})}),Object(j.jsxs)("div",{className:b.a.content_container,children:[Object(j.jsx)("div",{children:e.text}),Object(j.jsxs)("div",{children:["Likes: ",e.likes]})]})]})})),p=r(240),m=r(244),O=n.a.memo((function(e){var t=e.onSubmit;return Object(j.jsx)("div",{className:u.a.control_wrapper,children:Object(j.jsx)(m.a,{onSubmit:t})})})),f=n.a.memo((function(e){var t=e.addPost,r=e.dataForMyPosts,n=Object(a.useMemo)((function(){return r.map((function(e){return Object(j.jsx)(d,{text:e.text,src:e.src,alt:e.alt,likes:e.likes},Object(p.a)())}))}),[r]);return Object(j.jsxs)("section",{className:u.a.wrapper,children:[Object(j.jsx)(O,{onSubmit:t}),n]})})),x=r(243),h=r.n(x),v=n.a.memo((function(e){var t=e.src,r=e.alt,a=e.isOwner,n=e.updateUserAvatar;return Object(j.jsxs)("div",{className:h.a.avatarContainer,children:[Object(j.jsx)("img",{src:t,alt:r}),a&&Object(j.jsx)("input",{type:"file",onChange:function(e){e.currentTarget.files&&n(e.currentTarget.files[0]),e.currentTarget.value=""}})]})})),_=r(3),k=r.n(_),w=r(7),g=r(20),y=n.a.memo((function(e){var t=e.status,r=e.updateUserStatus,n=e.isOwner,s=Object(a.useState)(!1),c=Object(g.a)(s,2),o=c[0],i=c[1],u=Object(a.useState)(e.status),l=Object(g.a)(u,2),b=l[0],d=l[1];Object(a.useEffect)((function(){return d(t)}),[t]);var p=Object(a.useCallback)((function(){return i(!0)}),[]),m=Object(a.useCallback)((function(){r(b),i(!1)}),[b,r]),O=Object(a.useCallback)((function(e){d(e.currentTarget.value)}),[]),f=Object(a.useCallback)((function(e){"Enter"===e.key&&m()}),[m]);return n&&o?Object(j.jsx)("input",{type:"text",onBlur:m,onChange:O,onKeyPress:f,autoFocus:!0,value:b}):Object(j.jsx)("h4",{onDoubleClick:p,children:t||"\u041c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})})),S=n.a.memo((function(e){var t=e.title,r=e.value;return Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:t}),Object(j.jsx)("span",{children:r})]})})),P=n.a.memo((function(e){var t=e.userProfile,r=e.isOwner,a=e.onEditMode;return Object(j.jsxs)("div",{className:h.a.descriptionContainer,children:[Object(j.jsxs)("div",{className:h.a.descriptionItem,children:[Object(j.jsx)("strong",{children:"About me:"}),t.aboutMe||"Empty"]}),Object(j.jsxs)("div",{className:h.a.descriptionItem,children:[Object(j.jsx)("strong",{children:"Looking for a job:"}),t.lookingForAJob?"Yes":"No"]}),Object(j.jsxs)("div",{className:h.a.descriptionItem,children:[Object(j.jsx)("strong",{children:"Looking for a job description:"}),t.lookingForAJobDescription||"Empty"]}),Object(j.jsxs)("div",{className:h.a.descriptionItem,children:[Object(j.jsx)("strong",{children:"Contacts"}),Object.keys(t.contacts).map((function(e){return Object(j.jsx)(S,{title:e,value:t.contacts[e]},e)}))]}),r&&Object(j.jsx)("button",{onClick:a,children:"Edit"})]})})),N=r(26),M=r(54),A=r(103),C=r(242),F=r(47),U=n.a.memo((function(e){var t=e.onSubmit,r=e.userProfile,a=F.b().matches(/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/,"Enter correct url!"),n=Object.keys(r.contacts).reduce((function(e,t){return e[t]=a,e}),{});return Object(j.jsx)(N.b,{initialValues:{fullName:r.fullName,aboutMe:r.aboutMe,lookingForAJob:r.lookingForAJob,lookingForAJobDescription:r.lookingForAJobDescription,contacts:r.contacts},validationSchema:F.a({fullName:F.b().max(50,"Must be 50 characters or less"),aboutMe:F.b().max(300,"Must be 300 characters or less"),lookingForAJobDescription:F.b().max(300,"Must be 300 characters or less"),contacts:F.a(n)}),onSubmit:function(){var e=Object(w.a)(k.a.mark((function e(r,a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,e.next=3,n(!0);case 3:return e.next=5,t(r);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return Object(j.jsxs)(N.a,{className:"formikFormContainer",children:[Object(j.jsx)("h4",{children:"Main info"}),Object(j.jsx)(M.a,{label:"Full Name",name:"fullName",type:"text",placeholder:"Type your full name..."}),Object(j.jsx)(C.a,{label:"About",name:"aboutMe",placeholder:"Say something about you..."}),Object(j.jsx)(A.a,{name:"lookingForAJob",children:"Looking For A Job"}),Object(j.jsx)(C.a,{label:"Looking For A Job Description",name:"lookingForAJobDescription",placeholder:"lookingForAJobDescription"}),Object(j.jsx)("h4",{children:"Contacts"}),Object.keys(r.contacts).map((function(e){return Object(j.jsx)(M.a,{label:"".concat(e),name:"contacts.".concat(e),type:"text",placeholder:"".concat(e)},e)})),Object(j.jsx)("button",{type:"submit",disabled:t,children:"Save"})]})}})})),D=n.a.memo((function(e){var t=e.userProfile,r=e.userStatus,n=e.updateUserStatus,s=e.isOwner,c=e.updateUserDescription,o=Object(a.useState)(!1),i=Object(g.a)(o,2),u=i[0],l=i[1],b=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:l(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:h.a.infoContainer,children:[Object(j.jsx)("h2",{children:t.fullName}),Object(j.jsx)(y,{status:r,updateUserStatus:n,isOwner:s}),u?Object(j.jsx)(U,{onSubmit:b,userProfile:t}):Object(j.jsx)(P,{userProfile:t,isOwner:s,onEditMode:function(){return l(!0)}})]})})),J=n.a.memo((function(e){var t=e.userProfile,r=e.userStatus,a=e.updateUserStatus,n=e.isOwner,s=e.updateUserAvatar,c=e.updateUserDescription,o=t.photos.large||"https://pbs.twimg.com/profile_images/1368235617243426820/L0m5gTDB.jpg";return Object(j.jsxs)("section",{className:h.a.wrapper,children:[Object(j.jsx)(v,{src:o,alt:t.fullName,isOwner:n,updateUserAvatar:s}),Object(j.jsx)(D,{userProfile:t,userStatus:r,updateUserStatus:a,isOwner:n,updateUserDescription:c})]})})),I=n.a.memo((function(e){var t=e.dataForMyPosts,r=e.userProfile,a=e.userStatus,n=e.addPost,s=e.updateUserStatus,c=e.isOwner,i=e.updateUserAvatar,u=e.updateUserDescription;return Object(j.jsxs)("main",{className:o.a.wrapper,children:[r&&Object(j.jsx)(J,{userProfile:r,userStatus:a,updateUserStatus:s,isOwner:c,updateUserAvatar:i,updateUserDescription:u}),c&&Object(j.jsx)(f,{dataForMyPosts:t,addPost:n})]})})),E=r(39),T=r(5),L=r(32),z=r(245),B=n.a.memo((function(e){var t=e.match,r=Object(s.b)(),n=Object(s.c)((function(e){return e.profile})),c=n.dataForMyPosts,o=n.userProfile,i=n.userStatus,u=Object(s.c)((function(e){return e.auth})).id,l=Object(a.useCallback)((function(e){return r(Object(E.b)(e))}),[r]),b=Object(a.useCallback)((function(e){return r(Object(E.g)(e))}),[r]),d=Object(a.useCallback)((function(e){return r(Object(E.e)(e))}),[r]),p=Object(a.useCallback)((function(e){return r(Object(E.f)(e))}),[r]);Object(a.useEffect)((function(){var e=Number(t.params.userId)||u;r(Object(E.c)(e)),r(Object(E.d)(e))}),[r,t.params.userId,u]);var m=!t.params.userId||null!==u&&u===Number(t.params.userId);return Object(j.jsx)(I,{dataForMyPosts:c,userProfile:o,userStatus:i,updateUserStatus:b,addPost:l,isOwner:m,updateUserAvatar:d,updateUserDescription:p})}));t.default=Object(L.c)(z.a,T.g)(B)}}]);
//# sourceMappingURL=3.91ce7f97.chunk.js.map