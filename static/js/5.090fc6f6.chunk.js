(this["webpackJsonpsocial-network-react-ts"]=this["webpackJsonpsocial-network-react-ts"]||[]).push([[5],{404:function(e,a,t){e.exports={wrapper:"Users_wrapper__2cJTt",userContainer:"Users_userContainer__2ixRo",avatarAndFollowContainer:"Users_avatarAndFollowContainer__1aTsv",avatar:"Users_avatar__1bjWe",userInfoContainer:"Users_userInfoContainer__3vZCi",name:"Users_name__1eEoV"}},420:function(e,a,t){"use strict";t.r(a);var r=t(12),n=t(0),c=t(404),s=t.n(c),l=t(59),o=t(394),i=t(41),u=t(136),j=t(45),b=t(1),d=Object(n.memo)((function(e){var a=e.user,t=e.followLoader,r=e.isAuth,c=Object(j.b)(),d=Object(n.useCallback)((function(){return c(Object(u.b)(a.id,a.followed))}),[a.id,a.followed]);return Object(b.jsxs)("div",{className:s.a.userContainer,children:[Object(b.jsxs)("div",{className:s.a.avatarAndFollowContainer,children:[Object(b.jsx)(l.b,{to:"".concat(i.a.PROFILE,"/").concat(a.id),children:Object(b.jsx)("div",{className:s.a.avatar,children:Object(b.jsx)("img",{src:a.photos.large||"https://pbs.twimg.com/profile_images/1368235617243426820/L0m5gTDB.jpg",alt:a.name})})}),r?Object(b.jsx)(o.a,{onClick:d,disabled:t.includes(a.id),variant:"outlined",children:a.followed?"Unfollow":"Follow"}):Object(b.jsx)(o.a,{disabled:!0,variant:"outlined",children:"Need to login"})]}),Object(b.jsxs)("div",{className:s.a.userInfoContainer,children:[Object(b.jsx)("div",{className:s.a.name,children:a.name}),Object(b.jsx)("div",{children:a.followed?"\u0412\u044b \u0443\u0436\u0435 \u0434\u0440\u0443\u0436\u0438\u0442\u0435":"\u0416\u0434\u0435\u0442 \u0434\u0440\u0443\u0436\u0431\u044b"}),Object(b.jsx)("div",{children:a.status||"\u041c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})]})]})})),m=t(66),f=t(96),O=t(14),h=t(173),p=t(73),v=t.n(p),w=t(421),x=t(391),g=t(382),C=t(381),_=Object(n.memo)((function(e){var a=e.label,t=e.options,n=Object(h.a)(e,["label","options"]),c=Object(m.c)(n),s=Object(O.a)(c,2),l=s[0],o=s[1],i=t.map((function(e){return Object(b.jsx)(w.a,{value:e.value,children:e.name},e.value)}));return Object(b.jsx)("div",{className:v.a.formField,children:Object(b.jsxs)(x.a,{fullWidth:!0,children:[Object(b.jsx)(g.a,{id:"".concat(a,"LabelName"),children:a}),Object(b.jsx)(C.a,Object(r.a)(Object(r.a)(Object(r.a)({},l),n),{},{labelId:"".concat(a,"LabelName"),id:"".concat(a,"SelectForm"),label:a,children:i})),o.touched&&o.error&&Object(b.jsx)("div",{className:"error",children:o.error})]})})})),N=Object(n.memo)((function(e){var a=e.onSubmit,t=e.searchParams,r=[{value:"null",name:"All"},{value:"true",name:"Followed"},{value:"false",name:"Unfollowed"}];return Object(b.jsx)(m.b,{enableReinitialize:!0,initialValues:{term:t.term,followers:String(t.followers)},onSubmit:function(e){a(e.term,function(e){switch(e){case"true":return!0;case"false":return!1;default:return null}}(e.followers))},children:function(){return Object(b.jsxs)(m.a,{className:"formikFormContainer",children:[Object(b.jsx)(f.a,{label:"Search by Name",name:"term",type:"text"}),Object(b.jsx)(_,{label:"Followers",name:"followers",options:r}),Object(b.jsx)(o.a,{type:"submit",variant:"contained",children:"Search"})]})}})})),S=t(417),k=t(416),F=function(e){var a=e.pagesCount,t=e.currentPage,r=e.onClick;return Object(b.jsx)(k.a,{spacing:2,children:Object(b.jsx)(S.a,{count:a,page:t,onChange:function(e,a){r(a)}})})},U=t(21),L=t(61),A=t(127),P=t(406),E=t.n(P),I=Object(n.memo)((function(){var e=Object(j.b)(),a=Object(U.g)(),t=Object(L.a)((function(e){return e.users})),c=t.usersData,l=t.pageSize,o=t.totalUsersCount,m=t.currentPage,f=t.isLoading,O=t.followLoader,h=t.search,p=Object(L.a)((function(e){return e.auth.isAuth})),v=Object(n.useMemo)((function(){return Math.ceil(o/l)}),[o,l]),w=Object(n.useCallback)((function(a,t){e(Object(u.c)(1,l,a,t))}),[e]),x=Object(n.useCallback)((function(a){e(Object(u.a)(a,l,h.term,h.followers))}),[e,l,h.term,h.followers]);return Object(n.useEffect)((function(){var t=E.a.parse(a.location.search.substr(1)),n=m,c=h;t.page&&(n=Number(t.page)),t.term&&(c=Object(r.a)(Object(r.a)({},c),{},{term:t.term})),t.friend&&(c=Object(r.a)(Object(r.a)({},c),{},{followers:"null"===t.friend?null:"true"===t.friend})),e(Object(u.c)(n,l,c.term,c.followers))}),[e]),Object(n.useEffect)((function(){var e={};h.term&&(e.term=h.term),null!==h.followers&&(e.friend=String(h.followers)),m&&(e.page=String(m)),a.push({pathname:i.a.USERS,search:E.a.stringify(e)})}),[a,h,m]),Object(b.jsxs)("main",{className:s.a.wrapper,children:[f&&Object(b.jsx)(A.a,{}),Object(b.jsx)(N,{onSubmit:w,searchParams:h}),Object(b.jsx)(F,{pagesCount:v,currentPage:m,onClick:x}),c.map((function(e){return Object(b.jsx)(d,{user:e,followLoader:O,isAuth:p},e.name+e.id)}))]})}));a.default=I}}]);
//# sourceMappingURL=5.090fc6f6.chunk.js.map