(this["webpackJsonpsocial-network-react-ts"]=this["webpackJsonpsocial-network-react-ts"]||[]).push([[5],{400:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var i=r(12),a=r(14),n=r(0),o=r.n(n),c=r(64),s=r(71),l=r.n(s),d=r(339),u=r(1),b=o.a.memo((function(e){var t=Object.assign({},e),r=Object(c.c)(t),n=Object(a.a)(r,2),o=n[0],s=n[1];return Object(u.jsxs)("div",{className:l.a.formField,children:[Object(u.jsx)(d.a,Object(i.a)(Object(i.a)(Object(i.a)({},o),t),{},{multiline:!0,maxRows:4,error:!!s.error})),s.touched&&s.error&&Object(u.jsx)("div",{className:l.a.errorMessage,children:s.error})]})}))},401:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r(12),a=(r(0),r(21)),n=r(35),o=r(24),c=r(1),s=function(e){return function(t){return Object(n.c)((function(e){return e.auth.isAuth}))?Object(c.jsx)(e,Object(i.a)({},t)):Object(c.jsx)(a.a,{to:o.a.LOGIN})}}},402:function(e,t,r){"use strict";r.d(t,"b",(function(){return n}));var i=r(133),a=r(187);function n(e){return Object(i.a)("MuiDivider",e)}var o=Object(a.a)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.a=o},418:function(e,t,r){"use strict";r.r(t);var i=r(0),a=r.n(i),n=r(35),o=r(96),c=r(64),s=r(400),l=r(392),d=r(1),u=a.a.memo((function(e){var t=e.onSubmit;return Object(d.jsx)(c.b,{initialValues:{textarea:""},validationSchema:o.a({textarea:o.b().required("Required")}),onSubmit:function(e,r){var i=r.resetForm;r.setSubmitting;i(),t(e.textarea)},children:function(e){var t=e.isSubmitting;return Object(d.jsxs)(c.a,{children:[Object(d.jsx)(s.a,{name:"textarea",label:"Type your message"}),Object(d.jsx)(l.a,{type:"submit",variant:"contained",disabled:t,children:"Send"})]})}})})),b=a.a.memo((function(e){var t=e.onSubmit;return Object(d.jsx)(u,{onSubmit:t})})),h=r(396),m=r(385),j=r(5),v=r(2),f=(r(11),r(6)),g=r(186),p=r(110),x=r(3),O=r(8),w=r(402),S=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],A=Object(x.a)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,r=e.ownerState;return Object(v.a)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:Object(p.a)(t.palette.divider,.08)},"inset"===r.variant&&{marginLeft:72},"middle"===r.variant&&"horizontal"===r.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===r.variant&&"vertical"===r.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===r.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.theme,r=e.ownerState;return Object(v.a)({},r.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat(t.palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var t=e.theme,r=e.ownerState;return Object(v.a)({},r.children&&"vertical"===r.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat(t.palette.divider),transform:"translateX(0%)"}})}),(function(e){var t=e.ownerState;return Object(v.a)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),I=Object(x.a)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var r=e.ownerState;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,r=e.ownerState;return Object(v.a)({display:"inline-block",paddingLeft:t.spacing(1.2),paddingRight:t.spacing(1.2)},"vertical"===r.orientation&&{paddingTop:t.spacing(1.2),paddingBottom:t.spacing(1.2)})})),R=i.forwardRef((function(e,t){var r=Object(O.a)({props:e,name:"MuiDivider"}),i=r.absolute,a=void 0!==i&&i,n=r.children,o=r.className,c=r.component,s=void 0===c?n?"div":"hr":c,l=r.flexItem,u=void 0!==l&&l,b=r.light,h=void 0!==b&&b,m=r.orientation,p=void 0===m?"horizontal":m,x=r.role,R=void 0===x?"hr"!==s?"separator":void 0:x,N=r.textAlign,L=void 0===N?"center":N,C=r.variant,D=void 0===C?"fullWidth":C,k=Object(j.a)(r,S),M=Object(v.a)({},r,{absolute:a,component:s,flexItem:u,light:h,orientation:p,role:R,textAlign:L,variant:D}),V=function(e){var t=e.absolute,r=e.children,i=e.classes,a=e.flexItem,n=e.light,o=e.orientation,c=e.textAlign,s={root:["root",t&&"absolute",e.variant,n&&"light","vertical"===o&&"vertical",a&&"flexItem",r&&"withChildren",r&&"vertical"===o&&"withChildrenVertical","right"===c&&"vertical"!==o&&"textAlignRight","left"===c&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return Object(g.a)(s,w.b,i)}(M);return Object(d.jsx)(A,Object(v.a)({as:s,className:Object(f.a)(V.root,o),role:R,ref:t,ownerState:M},k,{children:n?Object(d.jsx)(I,{className:V.wrapper,ownerState:M,children:n}):null}))})),N=r(59),L=r(24),C=Object(i.memo)((function(e){var t=e.userName,r=e.message,i=e.photo,a=e.userID;return Object(d.jsxs)(h.a,{children:[Object(d.jsx)(N.b,{to:"".concat(L.a.PROFILE,"/").concat(a),children:Object(d.jsx)(m.a,{alt:t,src:i,sx:{width:64,height:64}})}),Object(d.jsx)(h.a,{children:Object(d.jsxs)("strong",{children:[t,":"]})}),Object(d.jsx)(h.a,{children:r}),Object(d.jsx)(R,{})]})})),D=a.a.memo((function(e){var t=e.messages,r=Object(i.useRef)(null),a=t.map((function(e){return Object(d.jsx)(C,{userName:e.userName,message:e.message,photo:e.photo,userID:e.userId},e.messageID)}));return Object(i.useEffect)((function(){var e;null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t]),Object(d.jsxs)(h.a,{sx:{maxHeight:512,overflowY:"auto"},children:[a,Object(d.jsx)("div",{ref:r})]})})),k=a.a.memo((function(e){var t=e.messages,r=e.sendMessage;return Object(d.jsxs)("main",{children:[Object(d.jsx)(D,{messages:t}),Object(d.jsx)(b,{onSubmit:r})]})})),M=r(401),V=r(85),W=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),y=r(146),T=a.a.memo((function(){var e=Object(n.c)((function(e){return e.dialogs})).messages,t=Object(n.b)();Object(i.useEffect)((function(){W.addEventListener("message",(function(e){t(Object(y.b)(JSON.parse(e.data)))}))}),[t]);return Object(d.jsx)(k,{messages:e,sendMessage:function(e){return W.send(e)}})}));t.default=Object(V.c)(M.a)(T)}}]);
//# sourceMappingURL=5.f5a1f23a.chunk.js.map