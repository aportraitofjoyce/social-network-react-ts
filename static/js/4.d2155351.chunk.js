(this["webpackJsonpsocial-network-react-ts"]=this["webpackJsonpsocial-network-react-ts"]||[]).push([[4],{401:function(e,t,r){e.exports={wrapper:"MyProfile_wrapper__3F7Lc",avatarContainer:"MyProfile_avatarContainer__2rN0n",infoContainer:"MyProfile_infoContainer__1jIEh",descriptionContainer:"MyProfile_descriptionContainer__F3RPh",descriptionItem:"MyProfile_descriptionItem__3LVEx",contactItem:"MyProfile_contactItem__2E3hd"}},402:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(12),c=r(14),a=r(0),o=r(66),s=r(73),i=r.n(s),l=r(341),b=r(1),u=Object(a.memo)((function(e){var t=Object.assign({},e),r=Object(o.c)(t),a=Object(c.a)(r,2),s=a[0],u=a[1];return Object(b.jsxs)("div",{className:i.a.formField,children:[Object(b.jsx)(l.a,Object(n.a)(Object(n.a)(Object(n.a)({},s),t),{},{multiline:!0,maxRows:4,error:!!u.error})),u.touched&&u.error&&Object(b.jsx)("div",{className:i.a.errorMessage,children:u.error})]})}))},405:function(e,t,r){e.exports={wrapper:"Profile_wrapper__1c_I8"}},418:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(405),o=r.n(a),s=r(401),i=r.n(s),l=r(3),b=r(394),u=r(135),j=r(45),O=r(1),m=Object(n.memo)((function(e){var t=e.src,r=e.alt,c=e.isOwner,a=Object(j.b)(),o=Object(l.a)("input")({display:"none"}),s=Object(n.useCallback)((function(e){return a(Object(u.d)(e))}),[a]);return Object(O.jsxs)("div",{className:i.a.avatarContainer,children:[Object(O.jsx)("img",{src:t,alt:r}),c&&Object(O.jsxs)("label",{htmlFor:"uploadProfileAvatarBtn",children:[Object(O.jsx)(o,{accept:"image/*",id:"uploadProfileAvatarBtn",multiple:!0,type:"file",onChange:function(e){e.currentTarget.files&&s(e.currentTarget.files[0]),e.currentTarget.value=""}}),Object(O.jsx)(b.a,{variant:"outlined",component:"span",children:"Upload"})]})]})})),f=r(17),d=r.n(f),p=r(25),x=r(14),h=r(341),v=Object(n.memo)((function(e){var t=e.status,r=e.isOwner,c=Object(j.b)(),a=Object(n.useState)(!1),o=Object(x.a)(a,2),s=o[0],i=o[1],l=Object(n.useState)(t),b=Object(x.a)(l,2),m=b[0],f=b[1],d=Object(n.useCallback)((function(e){return c(Object(u.f)(e))}),[c]),p=Object(n.useCallback)((function(){return i(!0)}),[]),v=Object(n.useCallback)((function(){d(m),i(!1)}),[m,u.f]),g=Object(n.useCallback)((function(e){f(e.currentTarget.value)}),[]),k=Object(n.useCallback)((function(e){"Enter"===e.key&&v()}),[v]);return Object(n.useEffect)((function(){return f(t)}),[t]),r&&s?Object(O.jsx)(h.a,{type:"text",onBlur:v,onChange:g,onKeyPress:k,autoFocus:!0,value:m}):Object(O.jsx)("h4",{onDoubleClick:p,children:t||"\u041c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})})),g=c.a.memo((function(e){var t=e.title,r=e.value;return Object(O.jsx)("div",{className:i.a.contactItem,children:r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{children:t}),Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"".concat(r),target:"_blank",rel:"noreferrer",children:r})})]})})})),k=Object(n.memo)((function(e){var t=e.userProfile,r=e.isOwner,n=e.onEditMode,c=Object.keys(t.contacts).map((function(e){return Object(O.jsx)(g,{title:e,value:t.contacts[e]},e)}));return Object(O.jsxs)("div",{className:i.a.descriptionContainer,children:[Object(O.jsxs)("div",{className:i.a.descriptionItem,children:[Object(O.jsx)("strong",{children:"About me:"}),t.aboutMe||"Empty"]}),Object(O.jsxs)("div",{className:i.a.descriptionItem,children:[Object(O.jsx)("strong",{children:"Looking for a job:"}),t.lookingForAJob?"Yes":"No"]}),Object(O.jsxs)("div",{className:i.a.descriptionItem,children:[Object(O.jsx)("strong",{children:"Looking for a job description:"}),t.lookingForAJobDescription||"Empty"]}),Object(O.jsxs)("div",{className:i.a.descriptionItem,children:[Object(O.jsx)("strong",{children:"Contacts"}),c]}),r&&Object(O.jsx)(b.a,{onClick:n,variant:"contained",children:"Edit"})]})})),w=r(66),N=r(96),_=r(172),C=r(402),y=r(97),P=Object(n.memo)((function(e){var t=e.onSubmit,r=e.userProfile,n=y.b().matches(/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/,"Enter correct url!"),c=Object.keys(r.contacts).reduce((function(e,t){return e[t]=n,e}),{});return Object(O.jsx)(w.b,{initialValues:{fullName:r.fullName,aboutMe:r.aboutMe,lookingForAJob:r.lookingForAJob,lookingForAJobDescription:r.lookingForAJobDescription,contacts:r.contacts},validationSchema:y.a({fullName:y.b().max(50,"Must be 50 characters or less"),aboutMe:y.b().max(300,"Must be 300 characters or less"),lookingForAJobDescription:y.b().max(300,"Must be 300 characters or less"),contacts:y.a(c)}),onSubmit:function(e){t(e)},children:function(){return Object(O.jsxs)(w.a,{className:"formikFormContainer",children:[Object(O.jsx)("h4",{children:"Main info"}),Object(O.jsx)(N.a,{label:"Full Name",name:"fullName",type:"text"}),Object(O.jsx)(C.a,{label:"About",name:"aboutMe"}),Object(O.jsx)(_.a,{name:"lookingForAJob",label:"Looking For A Job"}),Object(O.jsx)(C.a,{label:"Looking For A Job Description",name:"lookingForAJobDescription"}),Object(O.jsx)("h4",{children:"Contacts"}),Object.keys(r.contacts).map((function(e){return Object(O.jsx)(N.a,{label:"".concat(e),name:"contacts.".concat(e),type:"text"},e)})),Object(O.jsx)(b.a,{type:"submit",variant:"contained",children:"Save"})]})}})})),A=Object(n.memo)((function(e){var t=e.userProfile,r=e.userStatus,c=e.isOwner,a=Object(j.b)(),o=Object(n.useState)(!1),s=Object(x.a)(o,2),l=s[0],b=s[1],m=Object(n.useCallback)((function(e){return a(Object(u.e)(e))}),[a]),f=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:b(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:i.a.infoContainer,children:[Object(O.jsx)("h2",{children:t.fullName}),Object(O.jsx)(v,{status:r,isOwner:c}),l?Object(O.jsx)(P,{onSubmit:f,userProfile:t}):Object(O.jsx)(k,{userProfile:t,isOwner:c,onEditMode:function(){return b(!0)}})]})})),F=Object(n.memo)((function(e){var t=e.userProfile,r=e.userStatus,n=e.isOwner,c=t.photos.large||"https://pbs.twimg.com/profile_images/1368235617243426820/L0m5gTDB.jpg";return Object(O.jsxs)("section",{className:i.a.wrapper,children:[Object(O.jsx)(m,{src:c,alt:t.fullName,isOwner:n}),Object(O.jsx)(A,{userProfile:t,userStatus:r,isOwner:n})]})})),M=r(61),I=r(21),J=r(41),S=Object(n.memo)((function(){var e=Object(j.b)(),t=Object(M.a)((function(e){return e.profile})),r=t.userProfile,c=t.userStatus,a=Object(M.a)((function(e){return e.auth})),s=a.id,i=a.isAuth,l=Object(I.h)().userId;Object(n.useEffect)((function(){if(i){var t=Number(l)||s;e(Object(u.a)(t)),e(Object(u.b)(t))}}),[e,l,s]);var b=!l||null!==s&&s===Number(l);return i?Object(O.jsx)("main",{className:o.a.wrapper,children:r&&Object(O.jsx)(F,{userProfile:r,userStatus:c,isOwner:b})}):Object(O.jsx)(I.a,{to:J.a.LOGIN})}));t.default=S}}]);
//# sourceMappingURL=4.d2155351.chunk.js.map